---
type Props = {
  float: 'left' | 'right';
  src: string;
  alt?: string;
  caption: string;
  width?: number;
  height?: number;
  maxWidth: number;
};

const { float, src, alt, caption, width, height, maxWidth } = Astro.props as Props;
---

<figure class={float === 'left' ? 'float-sm-start me-sm-3' : 'float-sm-end ms-sm-3'}>
  <img
    src={src}
    alt={alt ?? caption}
    class="img-fluid img-thumbnail"
    style={`max-width: ${maxWidth}px`}
    width={width}
    height={height}
  />
  <figcaption class="fst-italic text-center mt-1">{caption}</figcaption>
</figure>

<style>
  figure {
    margin-inline: auto;
    width: fit-content;
    margin-bottom: 0;
  }

  @media screen and (max-width: 576px) {
    img {
      max-width: 100% !important;
    }

    figure {
      margin-bottom: 1rem;
    }
  }
</style>
